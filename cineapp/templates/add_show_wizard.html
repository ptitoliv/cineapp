{% extends "base.html" %} 
{% block content %}
	<div class="container">
		<div class="text-center">
                        <h1 id="add_wizard_label">{{ header_text }}</h1>
		</div>
		{%from "_formhelpers.html" import render_field %}
		<form action="{{ url_for( 'show.select_' + endpoint + '_show',show_type=g.show_type) }}" method="post" name="searchshow">
			{{ search_form.hidden_tag() }}
	        <div class="input-group">
                        {{ render_field(search_form.search,label_visible=false,message=False,placeholder=g.messages["field_search"]) }} 
		    <div class="input-group-btn">
			{{ search_form.submit_search(class="btn btn-success center-block") }}	
		    </div>
		</div>
			
		</form>
		<div id="container_overlay">
			<div id="spinner" class="spinner"/>
		</div>
        </div>
	<script type="text/javascript">
		$(document).ready(function(){
		    $("form input[type=submit]").click(function() {
   		    	$("#search").prop("readonly", true);
   		    	$("#submit_search").prop("disabled", true);
		        $('#container_overlay').show();	
			$(this).parents('form').submit()
		    });
		
		// Force submit button enabling
 	    	$("#submit_search").prop("disabled", false);

		});
	</script>
{% endblock %}
