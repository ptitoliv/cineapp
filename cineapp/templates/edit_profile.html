{% extends "base.html" %}

{% block content %}
	<div class="container">
	<form class="form-horizontal" role="form" method="post" action="" enctype="multipart/form-data">
	    <h1>Edition du profil</h1>
		<hr>
		<div class="row">
	      <!-- left column -->
	      <div class="col-md-3">
		<div class="text-center">
		  <img src="{{ config.AVATARS_URL}}{{ g.user.avatar }}" class="avatar img-circle" alt="avatar" width="125" heigh="125">
		</div>
		<div class="text-center">
		</div>
	      </div>
	      
	      <!-- edit form column -->
	      <div class="col-md-9 personal-info">
		{% if state == "user" %}
		<h3>Informations Utilisateur</h3>
		{% elif state == "password" %}
		<h3>Changement du mot de passe</h3>
		{% endif %}
		{{ form.hidden_tag() }}
		  {% if state == "user" %}
		  <div class="form-group">
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
			    	<label class="col-lg-3 pull-right control-label">Email:</label>
			    </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.email,label_visible=false) }}
			    </div>
		    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
			    	<label class="col-lg-3 pull-right control-label">Avatar:</label>
		            </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.upload_avatar,label_visible=false,parse_class=False,style="vertical-align:top;",group=False) }}
			    </div>
		    </div>
		  </div>
		  <h3>Notifications</h3>
		  <div class="form-group">
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <div class="pull-right"><strong>Mes propres activites:</strong></div>
			    </div>
			    <div class="col-xs-6 col-md-8">
				<div class="pull-left">{{ render_field(form.notif_own_activity,label_visible=false,parse_class=false) }}</div>
			    </div>
		    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <div class="pull-right"><strong>Ajout/Mise Ã  jour d'un film:</strong></div>
			    </div>
			    <div class="col-xs-6 col-md-8">
				<div class="pull-left">{{ render_field(form.notif_movie_add,label_visible=false,parse_class=false) }}</div>
			    </div>
   		    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <label class="pull-right">Note d'un film:</label>
			    </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.notif_mark_add,label_visible=false,parse_class=false) }}
			    </div>
		    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <label class="pull-right">Ajout d'un devoir:</label>
			    </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.notif_homework_add,label_visible=false,parse_class=false) }}
			    </div>
		    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <label class="pull-right">Ajout d'un commentaire:</label>
			    </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.notif_comment_add,label_visible=false,parse_class=false) }}
			    </div>
		    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <label class="pull-right">Films favoris:</label>
			    </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.notif_favorite_update,label_visible=false,parse_class=false) }}
			    </div>
                    </div>
		    <div class="row">
			    <div class="col-xs-6 col-md-4">
				    <label class="pull-right">Citations dans le chat:</label>
			    </div>
			    <div class="col-xs-6 col-md-8">
				{{ render_field(form.notif_chat_message,label_visible=false,parse_class=false) }}
			    </div>
		     </div>
		  </div>
		  {% elif state=="password" %}
		  <div class="form-group">
			  <div class="row">
				 <div class="col-xs-6 col-md-4">
					<label class="pull-right control-label">Mot de passe:</label>
				 </div>
				 <div class="col-xs-6 col-md-8">
				{{ render_field(form.password,label_visible=false,message=true) }}
				</div>
			  </div>
			  <div class="row">
				 <div class="col-xs-6 col-md-4">
					<label class="pull-right control-label">Confirmation:</label>
				 </div>
				 <div class="col-xs-6 col-md-8">
					{{ render_field(form.confirm,label_visible=false) }}
				</div>
			  </div>
		  </div>
		  {% endif %}
		  <div class="form-group">
		    <label class="col-md-3 control-label"></label>
		    <div class="col-md-8">
			{{ form.submit_user(class="btn btn-primary") }}
		      <span></span>
		    </div>
		  </div>
		</form>
	      </div>
	  </div>
	</div>
	<hr>
{% endblock %}
